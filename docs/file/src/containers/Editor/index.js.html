<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/containers/Editor/index.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/Button</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Button">Button</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/ButtonGroup</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ButtonGroup">ButtonGroup</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/Header</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Header">Header</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/Icon</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Icon">Icon</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components/Link</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Link">Link</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">containers/AppPage</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/containers/AppPage/index.js~AppPage.html">AppPage</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">containers/Editor</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/containers/Editor/index.js~Editor.html">Editor</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">styles</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fadeIn">fadeIn</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fadeInBottom">fadeInBottom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fadeInLeft">fadeInLeft</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fadeInRight">fadeInRight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fadeInTop">fadeInTop</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">styles/themes</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-base">base</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-download">download</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-processMarkdown">processMarkdown</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/containers/Editor/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/* @flow */
import AceEditor from &apos;react-ace&apos;;
import base64 from &apos;base-64&apos;;
import React, { PureComponent } from &apos;react&apos;;
import styled from &apos;styled-components&apos;;
import { Row, Column } from &apos;hedron&apos;;

// import our site&apos;s theme
import Dropzone from &apos;./Dropzone&apos;;
import Preview from &apos;../../components/Preview&apos;;
import config from &apos;../../config&apos;;
import { processMarkdown, downloadMarkdown } from &apos;../../utils&apos;;

const theme = require(`../../styles/themes/${config.theme}`).default;

/**
 * This is the container for the dual pane markdown editor
 *
 * @class Editor
 * @extends {PureComponent}
 */
export default class Editor extends PureComponent {
  componentWillMount() {
    // bind(this) allows `this` to be used from within the onDrop() function
    this.onDrop = this.onDrop.bind(this);
  }
  // define our component&apos;s flow types
  onDrop: () =&gt; {};
  props: {
    code: string,
    onChange: (string) =&gt; {},
  };

  /**
   * This gets triggered the user drops a file in the window.
   *
   * @param {[]} files
   * 
   * @memberOf Editor
   */
  onDrop(files: []): void {
    const blob = files[0];
    const reader = new FileReader();
    reader.addEventListener(&apos;loadend&apos;, (e) =&gt; {
      this.setState({ code: e.target.result });
    });
    reader.readAsText(blob);
  }

  render() {
    let options = {
      fontFamily: &apos;Monaco, monospace&apos;,
      showLineNumbers: false,
      showGutter: false,
    };
    return (
      &lt;Dropzone onDrop={this.onDrop} disableClick activeClassName=&apos;active&apos;&gt;
        &lt;Row&gt;
          &lt;Column fluid xs={6}&gt;
            &lt;AceEditor
              mode=&apos;markdown&apos;
              theme={theme.editor.theme}
              onChange={this.props.onChange}
              value={this.props.code}
              name=&apos;editor&apos;
              editorProps={{ $blockScrolling: true }}
              keyboardHandler=&apos;vim&apos;
              width=&apos;100%&apos;
              height={`calc(100vh - ${theme.header.height})`}
              fontSize={18}
              setOptions={options}
              wrapEnabled
            /&gt;
          &lt;/Column&gt;
          &lt;Preview xs={6} dangerouslySetInnerHTML={{ __html: processMarkdown(this.props.code) }} /&gt;
        &lt;/Row&gt;
      &lt;/Dropzone&gt;
    );
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
